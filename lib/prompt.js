"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(exports,"__esModule",{value:!0});var _chalk=require("chalk"),_chalk2=_interopRequireDefault(_chalk),Prompt=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t),this.text="",this.options={stdin:process.stdin,stdout:process.stdout},e&&"string"==typeof e&&(this.text=e),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(n=e,e=null),n&&(this.options=Object.assign(this.options,n))}return _createClass(t,[{key:"beckon",value:function(t){var e=this;return t&&(this.text=t),this.options.stdin.setEncoding("utf8"),this.options.stdout.write(this.formatText()+this.formatPrompt()),new Promise(function(t,n){var o=function(){var n=e.options.stdin.read();null!==n&&(e.options.stdin.removeAllListeners("readable"),t(n.toString().trim()))};try{e.options.stdin.removeAllListeners("readable"),e.options.stdin.on("readable",o)}catch(r){e.close(),e.options.stdout.write(r),n(r)}})}},{key:"close",value:function(){this.options.stdin.end()}},{key:"formatPrompt",value:function(){return _chalk2["default"].magenta.bold(" > ")}},{key:"formatText",value:function(){return _chalk2["default"].blue.bold(this.text)}}]),t}();exports["default"]=Prompt;